<div class="login-container">
    <div class="title-container">
        <h1>
            Forge
        </h1>
    </div>
    <div style="border-left: 2px solid rgb(255, 255, 255); height: 100px;"></div>
    <div class="form-container">
        <div class="slide" (click)="slide()">
            <div class="login" [ngClass]="{'active': login, 'translate-right': login}">
                <h5>Login</h5>
            </div>
            <div class="register" [ngClass]="{'active': !login, 'translate-left': !login}">
                <h5>Sign up</h5>
            </div>
        </div>

        <div *ngIf="login">
            <form [formGroup]="loginForm" (ngSubmit)="loginUser($event)">
                <label for="username">Username</label>
                <input type="text" id="username" formControlName="username" minlength="3" />
                <div *ngIf="loginForm.get('username')?.invalid && (loginForm.get('username')?.dirty || loginForm.get('username')?.touched)" class="validation-error">
                    <div *ngIf="loginForm.get('username')?.errors?.['required']">Username is required.</div>
                    <div *ngIf="loginForm.get('username')?.errors?.['minlength']">Username must be at least 3 characters long.</div>
                </div>
                <label for="password">Password</label>
                <div class="password-container">
                    <input [type]="showPassword('login-password') ? 'text' : 'password'" id="login-password" formControlName="password" minlength="6" />
                    <span class="show-hide" type="button" (click)="toggleShowPassword('login-password')">{{showPassword('login-password') ? 'Hide' : 'Show'}}</span>
                </div>
                    <div *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)" class="validation-error">
                        <div *ngIf="loginForm.get('password')?.errors?.['required']">Password is required.</div>
                        <div *ngIf="loginForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters long.</div>
                    </div>
                <div class="buttons">
                    <button class="button-primary submit-button" type="submit">Login</button>
                </div>
            </form>
        </div>
        <div *ngIf="!login">
            <form [formGroup]="registerForm" (ngSubmit)="registerUser($event)">
                <label for="username">Username</label>
                <input type="text" id="username" formControlName="username" minlength="3" />
                <div *ngIf="registerForm.get('username')?.invalid && (registerForm.get('username')?.dirty || registerForm.get('username')?.touched)" class="validation-error">
                    <div *ngIf="registerForm.get('username')?.errors?.['required']">Username is required.</div>
                    <div *ngIf="registerForm.get('username')?.errors?.['minlength']">Username must be at least 3 characters long.</div>
                </div>
                <label for="username">Name</label>
                <input type="text" id="name" formControlName="name" minlength="3" />
                <div *ngIf="registerForm.get('name')?.invalid && (registerForm.get('name')?.dirty || registerForm.get('username')?.touched)" class="validation-error">
                    <div *ngIf="registerForm.get('name')?.errors?.['required']">Name is required.</div>
                    <div *ngIf="registerForm.get('name')?.errors?.['minlength']">Name must be at least 3 characters long.</div>
                </div>
                <label for="email">Email</label>
                <input type="email" id="email" formControlName="email" />
                <div *ngIf="registerForm.get('email')?.invalid && (registerForm.get('email')?.dirty || registerForm.get('email')?.touched)" class="validation-error">
                    <div *ngIf="registerForm.get('email')?.errors?.['required']">Email is required.</div>
                    <div *ngIf="registerForm.get('email')?.errors?.['email']">Invalid email address.</div>
                </div>
                <label for="password">Password</label>
                <div class="password-container">
                    <input [type]="showPassword('signup-password') ? 'text' : 'password'" id="signup-password" formControlName="password" minlength="6" />
                    <div class="show-hide" type="button" (click)="toggleShowPassword('signup-password')">{{showPassword('signup-password') ? 'Hide' : 'Show'}}</div>
                </div>
                    <div *ngIf="registerForm.get('password')?.invalid && (registerForm.get('password')?.dirty || registerForm.get('password')?.touched)" class="validation-error">
                        <div *ngIf="registerForm.get('password')?.errors?.['required']">Password is required.</div>
                        <div *ngIf="registerForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters long.</div>
                    </div>
                <label for="confirmPassword">Confirm Password</label>
                <div class="password-container">
                    <input [type]="showPassword('confirm-password') ? 'text' : 'password'" id="confirmPassword" formControlName="confirm" minlength="6" />
                    <div class="show-hide" type="button" (click)="toggleShowPassword('confirm-password')">{{showPassword('confirm-password') ? 'Hide' : 'Show'}}</div>
                </div>
                    <div *ngIf="registerForm.get('confirm')?.invalid && (registerForm.get('confirm')?.dirty || registerForm.get('confirm')?.touched)" class="validation-error">
                        <div *ngIf="registerForm.get('confirm')?.errors?.['required']">Confirm Password is required.</div>
                        <div *ngIf="registerForm.errors?.['PasswordNoMatch'] && registerForm.get('confirmPassword')?.touched">
                            Passwords do not match.
                        </div>
                        <div *ngIf="registerForm.get('confirm')?.errors?.['minlength']">Confirm Password must be at least 6 characters long.</div>
                    </div>
                <div class="buttons">
                    <button class="button-primary submit-button" type="submit">Sign up</button>
                </div>
            </form>
        </div>

        <div class="buttons">
            <h5>OR</h5>
            <button class="google-button" type="button"> Continue with Google </button>
        </div>
    </div>
</div>